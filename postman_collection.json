{
  "info": {
    "name": "Digital Signage Backend - Complete API Collection",
    "description": "Complete API collection for Digital Signage backend by Logical Valley Infotech with multi-tenant authentication, company management, video upload system, and schedule management for digital signage.\n\n**Features:**\n- Multi-tenant authentication with JWT\n- Company and user management\n- Video upload and streaming (500MB limit per company)\n- Schedule management with timeline-based playback\n- Public schedule viewing via unique codes\n- Role-based access control\n\n**Quick Start:**\n1. Register → Select Company → Get Access Token\n2. Upload videos\n3. Create schedule (get unique code)\n4. Add videos to timeline\n5. Share schedule publicly via code",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "12345678"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "tempToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "companyId",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "newUserEmail",
      "value": "newuser@example.com",
      "type": "string"
    },
    {
      "key": "videoId",
      "value": "",
      "type": "string"
    },
    {
      "key": "scheduleId",
      "value": "",
      "type": "string"
    },
    {
      "key": "scheduleCode",
      "value": "",
      "type": "string"
    },
    {
      "key": "scheduleItemId",
      "value": "",
      "type": "string"
    },
    {
      "key": "deviceId",
      "value": "",
      "type": "string"
    },
    {
      "key": "deviceUID",
      "value": "TEST-DEVICE-001",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Public Endpoints",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            }
          },
          "response": []
        },
        {
          "name": "API Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/",
              "host": ["{{baseUrl}}"],
              "path": [""]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Authentication",
      "item": [
        {
          "name": "1. Register User (Creates Company)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('tempToken', response.data.tempToken);",
                  "    pm.collectionVariables.set('userId', response.data.user.id);",
                  "    if (response.data.company) {",
                  "        pm.collectionVariables.set('companyId', response.data.company.id);",
                  "    }",
                  "    pm.environment.set('tempToken', response.data.tempToken);",
                  "    console.log('Temp Token:', response.data.tempToken);",
                  "    console.log('Company ID:', response.data.company?.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"password123\",\n  \"firstName\": \"Admin\",\n  \"lastName\": \"User\",\n  \"phoneNumber\": \"+1234567890\",\n  \"companyName\": \"Acme Corporation\",\n  \"companyDescription\": \"We make everything!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "2. Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('tempToken', response.data.tempToken);",
                  "    pm.collectionVariables.set('userId', response.data.user.id);",
                  "    if (response.data.companies && response.data.companies.length > 0) {",
                  "        pm.collectionVariables.set('companyId', response.data.companies[0].id);",
                  "    }",
                  "    pm.environment.set('tempToken', response.data.tempToken);",
                  "    console.log('Temp Token:', response.data.tempToken);",
                  "    console.log('Companies:', response.data.companies);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "3. Select Company",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', response.data.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', response.data.refreshToken);",
                  "    pm.environment.set('accessToken', response.data.accessToken);",
                  "    pm.environment.set('refreshToken', response.data.refreshToken);",
                  "    console.log('Access Token:', response.data.accessToken);",
                  "    console.log('Company:', response.data.company.name);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{tempToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"companyId\": \"{{companyId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/select-company",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "select-company"]
            }
          },
          "response": []
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "me"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Companies",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/companies",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "companies"]
            }
          },
          "response": []
        },
        {
          "name": "Switch Company",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', response.data.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', response.data.refreshToken);",
                  "    pm.environment.set('accessToken', response.data.accessToken);",
                  "    pm.environment.set('refreshToken', response.data.refreshToken);",
                  "    console.log('Switched to company:', response.data.company.name);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"companyId\": \"{{companyId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/switch-company",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "switch-company"]
            }
          },
          "response": []
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', response.data.accessToken);",
                  "    pm.environment.set('accessToken', response.data.accessToken);",
                  "    console.log('Token refreshed successfully');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "refresh"]
            }
          },
          "response": []
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "logout"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "User Management",
      "item": [
        {
          "name": "Create User and Add to Company",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('newUserEmail', response.data.user.email);",
                  "    console.log('New User Created:', response.data.user.email);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{newUserEmail}}\",\n  \"password\": \"password123\",\n  \"firstName\": \"New\",\n  \"lastName\": \"User\",\n  \"phoneNumber\": \"+9876543210\",\n  \"addToCurrentCompany\": true,\n  \"role\": \"member\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/create",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "create"]
            }
          },
          "response": []
        },
        {
          "name": "Search Users by Email",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/search?email=user",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "search"],
              "query": [
                {
                  "key": "email",
                  "value": "user"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Company Management",
      "item": [
        {
          "name": "Get Company Info",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/company/info",
              "host": ["{{baseUrl}}"],
              "path": ["api", "company", "info"]
            }
          },
          "response": []
        },
        {
          "name": "Update Company Info",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Acme Corporation Updated\",\n  \"description\": \"We make everything - and more!\",\n  \"website\": \"https://acme.example.com\",\n  \"email\": \"contact@acme.example.com\",\n  \"phoneNumber\": \"+1-555-0123\",\n  \"address\": \"123 Main St, City, State 12345\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/company/info",
              "host": ["{{baseUrl}}"],
              "path": ["api", "company", "info"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Members",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/company/members",
              "host": ["{{baseUrl}}"],
              "path": ["api", "company", "members"]
            }
          },
          "response": []
        },
        {
          "name": "Add Member by Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{newUserEmail}}\",\n  \"role\": \"member\",\n  \"permissions\": {\n    \"canViewReports\": true\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/company/members/add",
              "host": ["{{baseUrl}}"],
              "path": ["api", "company", "members", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Member by User ID",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"role\": \"admin\",\n  \"permissions\": {\n    \"canManageUsers\": true,\n    \"canViewReports\": true\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/company/members/add-by-id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "company", "members", "add-by-id"]
            }
          },
          "response": []
        },
        {
          "name": "Update Member Role",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"manager\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/company/members/{{userId}}/role",
              "host": ["{{baseUrl}}"],
              "path": ["api", "company", "members", "{{userId}}", "role"]
            }
          },
          "response": []
        },
        {
          "name": "Update Member Permissions",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"permissions\": {\n    \"canManageProducts\": true,\n    \"canViewReports\": true,\n    \"canExportData\": false\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/company/members/{{userId}}/permissions",
              "host": ["{{baseUrl}}"],
              "path": ["api", "company", "members", "{{userId}}", "permissions"]
            }
          },
          "response": []
        },
        {
          "name": "Remove Member",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/company/members/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "company", "members", "{{userId}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Video Management",
      "item": [
        {
          "name": "Upload Video",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('videoId', response.data.id);",
                  "    pm.environment.set('videoId', response.data.id);",
                  "    console.log('Video ID:', response.data.id);",
                  "    console.log('File Name:', response.data.fileName);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "video",
                  "description": "Select a video file to upload",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "displayName",
                  "value": "Demo Presentation Video",
                  "description": "Optional display name for the video",
                  "type": "text"
                },
                {
                  "key": "metadata",
                  "value": "{\"category\":\"training\",\"tags\":[\"demo\",\"tutorial\"]}",
                  "description": "Optional JSON metadata",
                  "type": "text",
                  "disabled": true
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/videos/upload",
              "host": ["{{baseUrl}}"],
              "path": ["api", "videos", "upload"]
            },
            "description": "Upload a video file to your company's folder. The video will be stored in `videos/{companyId}/` directory. Display names must be unique within your company."
          },
          "response": []
        },
        {
          "name": "List All Videos",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/videos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "videos"]
            },
            "description": "Get a list of all videos in your company. Returns video metadata including file size, uploader info, and timestamps."
          },
          "response": []
        },
        {
          "name": "Get Video Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/videos/{{videoId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "videos", "{{videoId}}"]
            },
            "description": "Get detailed information about a specific video including file path, metadata, and uploader information."
          },
          "response": []
        },
        {
          "name": "Download/Stream Video (Public)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/videos/{{videoId}}/download",
              "host": ["{{baseUrl}}"],
              "path": ["api", "videos", "{{videoId}}", "download"]
            },
            "description": "⭐ PUBLIC ENDPOINT - No authentication required! Download or stream a video file. Supports HTTP range requests for video streaming. Perfect for digital signage displays, embedded video players, and public viewing. The video will be served with appropriate headers for inline playback in browsers."
          },
          "response": []
        },
        {
          "name": "Update Video Metadata",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fileName\": \"Updated Video Name\",\n  \"metadata\": {\n    \"category\": \"tutorial\",\n    \"tags\": [\"advanced\", \"demo\"],\n    \"description\": \"Updated description\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/videos/{{videoId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "videos", "{{videoId}}"]
            },
            "description": "Update the display name or custom metadata of a video. Only the uploader or owner/admin can update videos."
          },
          "response": []
        },
        {
          "name": "Delete Video",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/videos/{{videoId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "videos", "{{videoId}}"]
            },
            "description": "Delete a video. This removes both the file from the filesystem and the database record. Only the uploader or owner/admin/manager can delete videos."
          },
          "response": []
        },
        {
          "name": "Bulk Delete Videos",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"videoIds\": [\n    \"{{videoId}}\",\n    \"video-id-2\",\n    \"video-id-3\"\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/videos/bulk-delete",
              "host": ["{{baseUrl}}"],
              "path": ["api", "videos", "bulk-delete"]
            },
            "description": "Delete multiple videos in one request. Supports up to 100 videos per request. Returns detailed results showing which videos were successfully deleted and which failed (with reasons). Only the uploader or owner/admin/manager can delete videos."
          },
          "response": []
        }
      ],
      "description": "Video upload and management endpoints. Each company has its own isolated video storage in `videos/{companyId}/` directory.\n\n**Features:**\n- Company-specific folders (isolated storage)\n- Unique file names per company\n- File size limit: 500MB\n- Video file validation\n- Role-based access control\n- Automatic cleanup on deletion\n\n**Permissions:**\n- Upload: owner, admin, manager, member\n- View/List: All roles\n- Update: Own videos (member) or any (owner/admin)\n- Delete: Own videos (member) or any (owner/admin/manager)"
    },
    {
      "name": "Schedule Management",
      "item": [
        {
          "name": "Create Schedule",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('scheduleId', response.data.id);",
                  "    pm.collectionVariables.set('scheduleCode', response.data.code);",
                  "    pm.environment.set('scheduleId', response.data.id);",
                  "    pm.environment.set('scheduleCode', response.data.code);",
                  "    console.log('Schedule ID:', response.data.id);",
                  "    console.log('Schedule Code:', response.data.code);",
                  "    console.log('Public URL: /api/schedules/public/' + response.data.code);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Main Display Schedule\",\n  \"description\": \"Schedule for lobby digital signage\",\n  \"timezone\": \"America/New_York\",\n  \"settings\": {\n    \"loop\": true,\n    \"autoStart\": true\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/schedules",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules"]
            },
            "description": "Create a new schedule with a unique 5-character code for public access. The code is automatically generated and allows anyone to view the schedule without authentication."
          },
          "response": []
        },
        {
          "name": "List All Schedules",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/schedules",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules"]
            },
            "description": "Get all schedules for your company with basic information and item count."
          },
          "response": []
        },
        {
          "name": "Get Schedule by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/schedules/{{scheduleId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules", "{{scheduleId}}"]
            },
            "description": "Get detailed schedule information including all timeline items and videos."
          },
          "response": []
        },
        {
          "name": "Get Schedule by Code (Public)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/schedules/public/{{scheduleCode}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules", "public", "{{scheduleCode}}"]
            },
            "description": "⭐ PUBLIC ENDPOINT - No authentication required! View a schedule using its 5-character code. Perfect for digital signage displays and public viewing."
          },
          "response": []
        },
        {
          "name": "Register Device to Schedule (Public)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.device && response.device.id) {",
                  "        pm.collectionVariables.set('deviceId', response.device.id);",
                  "        pm.environment.set('deviceId', response.device.id);",
                  "        console.log('Device ID:', response.device.id);",
                  "        console.log('Device UID:', response.device.uid);",
                  "        console.log('Registered:', response.device.registered);",
                  "        console.log('Schedule:', response.schedule.name);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"scheduleCode\": \"{{scheduleCode}}\",\n  \"uid\": \"{{deviceUID}}\",\n  \"deviceInfo\": {\n    \"resolution\": \"1920x1080\",\n    \"os\": \"Android 12\",\n    \"location\": \"Lobby Display 1\",\n    \"model\": \"Samsung Smart Display\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/schedules/device/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules", "device", "register"]
            },
            "description": "⭐ PUBLIC ENDPOINT - Register a device to a schedule using the schedule code. Returns full schedule details for the device to play. Device info is flexible and can include any JSON data (resolution, OS, location, etc.). If device already exists, updates its info and lastSeen timestamp."
          },
          "response": []
        },
        {
          "name": "Update Device Name",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Lobby Display - Main\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/schedules/device/{{deviceId}}/name",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules", "device", "{{deviceId}}", "name"]
            },
            "description": "Update the friendly name of a device. Requires authentication and the device must belong to a schedule in your company."
          },
          "response": []
        },
        {
          "name": "Get Storage Usage",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/videos/storage",
              "host": ["{{baseUrl}}"],
              "path": ["api", "videos", "storage"]
            },
            "description": "Get storage usage statistics for your company including current usage, available space, and video count."
          },
          "response": []
        },
        {
          "name": "Update Schedule",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Schedule Name\",\n  \"description\": \"Updated description\",\n  \"timezone\": \"America/Los_Angeles\",\n  \"settings\": {\n    \"loop\": false,\n    \"autoStart\": true,\n    \"volume\": 80\n  },\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/schedules/{{scheduleId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules", "{{scheduleId}}"]
            },
            "description": "Update schedule details. Members can only update schedules they created. Owner/admin/manager can update any schedule."
          },
          "response": []
        },
        {
          "name": "Delete Schedule",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/schedules/{{scheduleId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules", "{{scheduleId}}"]
            },
            "description": "Soft delete a schedule. Members can only delete schedules they created. Owner/admin/manager can delete any schedule."
          },
          "response": []
        },
        {
          "name": "Add Video to Schedule",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('scheduleItemId', response.data.id);",
                  "    pm.environment.set('scheduleItemId', response.data.id);",
                  "    console.log('Schedule Item ID:', response.data.id);",
                  "    console.log('Start Time:', response.data.startTime);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"videoId\": \"{{videoId}}\",\n  \"startTime\": \"09:00:00\",\n  \"duration\": 30,\n  \"dayOfWeek\": [1, 2, 3, 4, 5],\n  \"startDate\": \"2024-01-01\",\n  \"endDate\": \"2024-12-31\",\n  \"order\": 0,\n  \"metadata\": {\n    \"transition\": \"fade\",\n    \"volume\": 80\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/schedules/{{scheduleId}}/items",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules", "{{scheduleId}}", "items"]
            },
            "description": "Add a video to the schedule timeline.\n\n**Fields:**\n- videoId (required): Video UUID\n- startTime (required): HH:MM:SS or HH:MM\n- duration (required): Seconds\n- dayOfWeek (optional): Array [0-6], 0=Sunday, null=every day\n- startDate/endDate (optional): YYYY-MM-DD\n- order (optional): Display order\n- metadata (optional): Custom data"
          },
          "response": []
        },
        {
          "name": "Add Video to Schedule (Weekdays Only)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    console.log('Schedule Item ID:', response.data.id);",
                  "    console.log('Days: Monday-Friday');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"videoId\": \"{{videoId}}\",\n  \"startTime\": \"12:00:00\",\n  \"duration\": 60,\n  \"dayOfWeek\": [1, 2, 3, 4, 5]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/schedules/{{scheduleId}}/items",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules", "{{scheduleId}}", "items"]
            },
            "description": "Example: Add a video that only plays on weekdays (Monday-Friday) at noon for 60 seconds."
          },
          "response": []
        },
        {
          "name": "Add Video to Schedule (Weekends Only)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    console.log('Schedule Item ID:', response.data.id);",
                  "    console.log('Days: Saturday-Sunday');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"videoId\": \"{{videoId}}\",\n  \"startTime\": \"19:00:00\",\n  \"duration\": 90,\n  \"dayOfWeek\": [0, 6]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/schedules/{{scheduleId}}/items",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules", "{{scheduleId}}", "items"]
            },
            "description": "Example: Add a video that only plays on weekends (Saturday-Sunday) at 7 PM for 90 seconds."
          },
          "response": []
        },
        {
          "name": "Add Video to Schedule (Every Day)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    console.log('Schedule Item ID:', response.data.id);",
                  "    console.log('Days: Every day');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"videoId\": \"{{videoId}}\",\n  \"startTime\": \"14:00:00\",\n  \"duration\": 45\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/schedules/{{scheduleId}}/items",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules", "{{scheduleId}}", "items"]
            },
            "description": "Example: Add a video that plays every day at 2 PM for 45 seconds. Omit dayOfWeek field for daily playback."
          },
          "response": []
        },
        {
          "name": "Update Schedule Item",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"startTime\": \"10:00:00\",\n  \"duration\": 45,\n  \"dayOfWeek\": [1, 3, 5],\n  \"order\": 1,\n  \"metadata\": {\n    \"transition\": \"slide\",\n    \"volume\": 90\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/schedules/{{scheduleId}}/items/{{scheduleItemId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules", "{{scheduleId}}", "items", "{{scheduleItemId}}"]
            },
            "description": "Update a schedule item. All fields are optional - only include fields you want to change."
          },
          "response": []
        },
        {
          "name": "Delete Schedule Item",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/schedules/{{scheduleId}}/items/{{scheduleItemId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "schedules", "{{scheduleId}}", "items", "{{scheduleItemId}}"]
            },
            "description": "Remove a video from the schedule timeline (soft delete)."
          },
          "response": []
        }
      ],
      "description": "Schedule management for timeline-based video playback. Create schedules with unique 5-character codes for public access.\n\n**Features:**\n- Timeline-based scheduling (HH:MM:SS)\n- Day-specific playback (weekdays, weekends, specific days)\n- Date range support (seasonal campaigns)\n- Unique 5-character codes (e.g., Ab3Xy)\n- Public viewing without authentication\n- Duration control per video\n- Custom metadata support\n- Timezone support\n\n**Schedule Code Format:**\n- 5 characters (alphanumeric)\n- Example: Ab3Xy, Mn7Qw, Rt5Zk\n- Excludes confusing chars (0, O, I, l)\n- Public URL: /api/schedules/public/{code}\n\n**Day of Week:**\n- 0 = Sunday\n- 1 = Monday\n- 2 = Tuesday\n- 3 = Wednesday\n- 4 = Thursday\n- 5 = Friday\n- 6 = Saturday\n- null/omitted = Every day\n\n**Permissions:**\n- Create: owner, admin, manager, member\n- View: All roles + Public (via code)\n- Update: Creator (member) or any (owner/admin/manager)\n- Delete: Creator (member) or any (owner/admin/manager)\n\n**Use Cases:**\n- Digital signage displays\n- Scheduled announcements\n- Day-specific content\n- Seasonal campaigns\n- Multi-location displays"
    }
  ]
}

